"use strict";(self.webpackChunkwpplugin_docs_servebolt_com=self.webpackChunkwpplugin_docs_servebolt_com||[]).push([[576],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=r.createContext({}),h=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},c=function(e){var t=h(e.components);return r.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),p=h(n),m=o,u=p["".concat(s,".").concat(m)]||p[m]||d[m]||i;return n?r.createElement(u,a(a({ref:t},c),{},{components:n})):r.createElement(u,a({ref:t},c))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:o,a[1]=l;for(var h=2;h<i;h++)a[h]=n[h];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}p.displayName="MDXCreateElement"},2385:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>h});var r=n(3117),o=(n(7294),n(3905));const i={},a="Environment files",l={unversionedId:"environment-file",id:"environment-file",title:"Environment files",description:"Every separate environment (Bolt) is unique and has its own API key and Envornmental ID. Moving the environment.json file from one bolt to another would cause the destination to no longer be able to communicate with the Servebolt API.",source:"@site/docs/environment-file.md",sourceDirName:".",slug:"/environment-file",permalink:"/docs/environment-file",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Developer guide to Caching and Purging",permalink:"/docs/developer-guide-to-caching-and-purging"}},s={},h=[{value:"How the Environment files are created.",id:"how-the-environment-files-are-created",level:2},{value:"Where are they stored.",id:"where-are-they-stored",level:2},{value:"Which file has preference?",id:"which-file-has-preference",level:2},{value:"Are the files loaded every time?",id:"are-the-files-loaded-every-time",level:2},{value:"Example Environment.json",id:"example-environmentjson",level:3}],c={toc:h};function d(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"environment-files"},"Environment files"),(0,o.kt)("p",null,"Every separate environment (Bolt) is unique and has its own API key and Envornmental ID. Moving the environment.json file from one bolt to another would cause the destination to no longer be able to communicate with the Servebolt API. "),(0,o.kt)("p",null,"The system works these out by reading the file and using the information with API calls. "),(0,o.kt)("h2",{id:"how-the-environment-files-are-created"},"How the Environment files are created."),(0,o.kt)("p",null,'In the Servebolt admin screen, choose the wanted Bolt, and then choose Settings. Near the bottom of the screen change the "Environment file in home folder" to be anything but "none". Mostly "both" is chosen. '),(0,o.kt)("h2",{id:"where-are-they-stored"},"Where are they stored."),(0,o.kt)("p",null,"They are stored in the home folder of the Bolt, 1 directory above the public directory. "),(0,o.kt)("h2",{id:"which-file-has-preference"},"Which file has preference?"),(0,o.kt)("p",null,"The system will try to load the ",(0,o.kt)("strong",{parentName:"p"},"environment.json")," file first, and then the ",(0,o.kt)("strong",{parentName:"p"},"environment.ini")," file if the .json does not exist. "),(0,o.kt)("h2",{id:"are-the-files-loaded-every-time"},"Are the files loaded every time?"),(0,o.kt)("p",null,"The ",(0,o.kt)("strong",{parentName:"p"},"environment")," filepath is loaded and then saved in the options table. This is used to access the file on every load. Sometimes this can cause problems with restores from one environment to another. To remove the setting, delete the option and the system will try again."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"wp option delete servebolt_env_file_path\n")),(0,o.kt)("h3",{id:"example-environmentjson"},"Example Environment.json"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'{\n    "id": 111111, // environment id\n    "bolt_id": 111111, // the bolt id \n    "name": "example-com", // the name in the control panel\n    "api_key": "aKKOPSmszca516SnNUO0hsarP1QpgkHXJvuWlRBK8w0IScMhZsv6yClMHoqKyW1L", // unique api key that only works for this bolt id and environment id.\n    "internal_domain": "exampl-111111.server.servebolt.cloud", // Its test domain name, and the domain name we use internally\n    "internal_url": "https://exampl-111111.server.servebolt.cloud", // the url \n    "home_dir": "/kunder/serveb_111111/exampl_111111", // The home directory of the bolt, also where the environment.json is held\n    "public_dir": "/kunder/serveb_111111/exampl_111111/public", // The Webroot of your website\n    "private_dir": "/kunder/serveb_111111/exampl_111111/private", // Private area could be used for systems that have secure uploads\n    "api_url" : "https//api.servebolt.io" // the domain name used for calls to Servebolt API, this overrides the default value set in Servebolt Optimizer when present.\n}\n')))}d.isMDXComponent=!0}}]);